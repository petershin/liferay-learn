# デプロイメント戦略について

サービスのデプロイ戦略によって、新しいバージョンを初期化する方法が決まります。 Liferay Cloud は、そのサービスに対して 2 つのデプロイメント戦略を提供しています。 `RollingUpdate` と `Recreate`です。

## デプロイ戦略の違い

ユーザーはアプリケーションが常に利用可能であることを期待し、開発者はそれらの新しいバージョンを1日に数回デプロイすることを期待されています。 Liferay Cloud では、これは `RollingUpdate` 戦略で行われます。 ローリングアップデートでは、インスタンスを新しいインスタンスで段階的に更新することにより、ダウンタイムなしでデプロイメントを実行できます。

| デプロイメント戦略       | メリット                               | デメリット                                      |
|:--------------- |:---------------------------------- |:------------------------------------------ |
| `RollingUpdate` | 新しいバージョンが段階的にリリースされ、アップタイムが最大化されます | 完全な展開には、インスタンスの数に比べてさらに時間がかかる場合があります       |
| `Recreate`      | 一度に完全に更新されたアプリケーションの状態             | 発生するダウンタイムの長さは、アプリケーションのシャットダウンと起動時間に依存します |

```{important}
Recreate` 戦略で定義されたデプロイメントは、新しいバージョンで再作成する前に、実行中のインスタンスをすべて終了させます。
```

一般的に、 `RollingUpdate` 戦略が推奨されるアプローチです。 `Recreate` 戦略は、非本番環境または非常に特殊なエッジケースで使用できます。

## デプロイ戦略の設定

デフォルトでは、Liferay Cloud のサービスは `RollingUpdate` 戦略を使用するようにあらかじめ設定されています。 各サービスのデプロイ戦略は、サービスの [`LCP.json`](../reference/configuration-via-lcp-json.md)の`戦略` 変数を介して設定できます。

```json
{
    "id": "myservice",
    "strategy": {
        "type": "Recreate"
    }
}
```

## 関連トピック

* [デプロイタイプについて](./understanding-deployment-types.md)
