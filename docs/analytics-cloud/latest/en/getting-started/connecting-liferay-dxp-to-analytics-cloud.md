---
uuid: c44fbb5a-5155-4b25-b97e-b574fb16f3d6
taxonomy-category-names:
- Cloud
- Analytics Cloud Administration
- Liferay Self-Hosted
- Liferay SaaS
- Liferay PaaS
---
# Connecting Liferay DXP to Analytics Cloud

{bdg-secondary}`Liferay DXP 7.4 U67+`

Liferay DXP and Analytics Cloud connect via a secure, encrypted token. This token is generated by Analytics Cloud and must be added to your Liferay DXP configuration. Once connected, you can determine which data to sync.

```{note}
This process varies for different Liferay DXP versions, though prerequisites are the same. See [Liferay DXP 7.4 U66 and Earlier Versions](#liferay-dxp-74-u66-and-earlier-versions) for alternative instructions.
```

## Prerequisites

Connecting Liferay DXP to Analytics Cloud has these prerequisites:

1. You need a [liferay.com](https://www.liferay.com) account. If you don't have one, you can [create an account](https://login.liferay.com/signin/register).

1. When you visit [analytics.liferay.com](https://analytics.liferay.com/) for the first time, you must set up multi-factor authentication for the account. See [Multi-Factor Authentication](../reference/multi-factor-authentication.md) for details.

1. Your Liferay DXP installation must meet one of the following minimum versions:

   * 7.4 (Any version)
   * 7.3 Fix Pack 1
   * 7.2 Fix Pack 11
   * 7.1 Fix Pack 22
   * 7.0 Fix Pack 98

1. You must have access to at least one Analytics Cloud workspace. As a paid Analytics Cloud user, you should see your workspace upon login. If you don't, contact support through [help.liferay.com](https://help.liferay.com/).

2. (Optional) Liferay DXP's batch engine is used for syncing users. Increase the batch size if syncing a very large number of users. In Liferay DXP, navigate to _Global Menu_ &rarr; _Instance Settings_ &rarr; _Batch Engine_. Set the _Export Batch Size_ and _Import Batch Size_ to `1000`.

## Using the Onboarding Guide

1. Log into Analytics Cloud and select your workspace.

   If this is your first time logging in, the onboarding guide appears. Click _Next_ and copy the Analytics Cloud token.

   ![You see an onboarding guide when you login first.](./connecting-liferay-dxp-to-analytics-cloud/images/01.png)

   Alternatively, you can find the token under _Settings_ &rarr; _Data Sources_. Click _Add Data Source_, select _Liferay DXP_, and copy the Analytics Cloud token.

1. Log into your Liferay DXP instance.

1. Open the _Global Menu_ (![Global Menu](../images/icon-applications-menu.png)), go to the _Control Panel_ tab, and click _Instance Settings_.

1. Under _Platform_, click _Analytics Cloud_.

   You see a four-step onboarding guide the first time you do this.

1. Enter the Analytics Cloud token and click _Connect_.

   ![Enter the token and click Connect.](./connecting-liferay-dxp-to-analytics-cloud/images/02.png)

1. Select an existing Analytics Cloud property or click _Add_ (![Add Button](../images/icon-add.png)) to create one. Once selected, click _Assign_.

   ```{note}
   Properties are labels associated with one or more Liferay sites and determine how Analytics Cloud aggregates your data.
   ```

   ![Select an existing property or create a new one.](./connecting-liferay-dxp-to-analytics-cloud/images/03.png)

1. Select the sites you want to assign to the property. Enable the _Commerce_ toggle to assign Commerce [channels](https://learn.liferay.com/w/commerce/store-management/channels/introduction-to-channels) as well.

   You can assign the same site or channel to only one property at a time. See [Scoping Sites and Individuals Using Properties](../workspace-settings/scoping-sites-and-individuals-using-properties.md) for more information.

   ![Select sites and channels to sync with Analytics Cloud.](./connecting-liferay-dxp-to-analytics-cloud/images/04.gif)

1. Click _Next_.

1. Select the individual and account profiles you want to sync.

   Use the toggle to sync all contact and account data or select subsets based on user group, organization, and account group.

   ![Select the contact data you want to sync with Analytics Cloud.](./connecting-liferay-dxp-to-analytics-cloud/images/05.png)

   ```{important}
   Analytics Cloud provides tools to sync and manage individual contact data. However, these tools do not guarantee compliance with privacy regulations (e.g. GDPR). You must carefully determine the practices and configurations necessary for complying with the privacy laws where your sites store and process personal data.
   ```

1. Click _Next_.

1. Select the desired attributes for each entity. If you're syncing Commerce channels, you can select attributes for Commerce entities.

   Analytics Cloud requires some fields to be synced; these fields are grayed out.

   ![Select the attributes to sync for each of the entities.](./connecting-liferay-dxp-to-analytics-cloud/images/06.png)

1. Click _Finish_.

   Verify this message appears:

   `Success: DXP has successfully connected to Analytics Cloud. You will begin to see data as activities occur on your sites.`

Congratulations, your Liferay instance is now connected to Analytics Cloud!

## Liferay DXP 7.4 U66 and Earlier Versions

### Connection Token

Liferay DXP and Analytics Cloud connect via a secure, encrypted token. This token is generated by Analytics Cloud and must be added to your Liferay DXP configuration. Once connected, you can determine which data to sync. The process is different depending on the version of Liferay DXP you have.

1. Log into Analytics Cloud and select your workspace.

   If this is your first time logging in, the onboarding guide appears. Click _Next_ and copy the Analytics Cloud token.

   ![You see an onboarding guide when you log in first.](./connecting-liferay-dxp-to-analytics-cloud/images/08.png)

   Alternatively, you can find the token under _Settings_ &rarr; _Data Sources_. Click _Add Data Source_, select _Liferay DXP_, and copy the Analytics Cloud token.

1. Log into your Liferay DXP instance.

1. Open the _Global Menu_ (![Global Menu](../images/icon-applications-menu.png)), go to the _Control Panel_ tab, and click _Instance Settings_.

1. Under Platform, click _Analytics Cloud_.

1. Paste the Analytics Cloud token and click _Connect_.

   ![Paste the token and click Connect.](./connecting-liferay-dxp-to-analytics-cloud/images/09.png)

   ```{note}
   On Liferay DXP 7.0, Analytics Cloud Admin is under *Configuration* &rarr; *Analytics Cloud*.
   ```

1. Verify this message appears:

   `Success: Your request completed successfully`

Congratulations, your Liferay instance is now connected to Analytics Cloud! The next step is syncing your Liferay site and your contacts.

### Syncing Sites

To sync sites, you must create properties and associate them with one or more sites. Analytics Cloud aggregates your data according to how you define your properties. This example shows a simple setup where a single site is associated with a property. To learn more about defining a property with multiple sites see [Scoping Sites and Individuals Using Properties](../workspace-settings/scoping-sites-and-individuals-using-properties.md).

1. In Analytics Cloud, navigate to _Settings_ &rarr; _Properties_.

1. Click _New Property_ and enter a label (e.g. Minium Site).

1. In your DXP instance, open the _Global Menu_ (![Global Menu](../images/icon-applications-menu.png)), go to the _Control Panel_ tab, and click _Instance Settings_.

1. Under Platform, click _Analytics Cloud_.

1. Click _Select Sites_.

1. Select the new property under Available Properties.

1. Select the site you want to sync and click _Done_.

   ![Select the site you want to sync.](./connecting-liferay-dxp-to-analytics-cloud/images/10.png)

   Verify this message appears:

   `Success: Your request completed successfully`

### Syncing Contacts

1. In your DXP instance, open the _Global Menu_ (![Global Menu](../images/icon-applications-menu.png)), go to the _Control Panel_ tab, and click _Instance Settings_.

1. Under Platform, click _Analytics Cloud_.

1. Click _Select Contacts_.

1. Under Contact Sync Options, click _Sync Contacts_. Toggle _Sync All_ to sync all contacts. Alternatively, click _Sync by User Groups_ or _Sync by Organizations_ if you want to sync a subset of your contacts.

   ```{important}
   Analytics Cloud provides tools to sync and manage individual contact data. However, these tools do not guarantee compliance with privacy regulations (e.g. GDPR). You must carefully determine the practices and configurations necessary for complying with the privacy laws where your sites store and process personal data.
   ```

1. Click _Save and Next_.

1. Switch between the _Contact_ tab and _User_ tab to select which fields to sync. Liferay DXP stores contact data in two separate tables (Contact and User). Analytics Cloud requires some fields to be synced; these fields are grayed out.

   ![Select the fields you want to sync from the list.](./connecting-liferay-dxp-to-analytics-cloud/images/11.png)

1. Click _Save_.

   Verify this message appears:

   `Success: Your request completed successfully`

Great, now you're all set up! As users visit and interact with your site, Analytics Cloud begins tracking what's happening. Once that happens, you can take a dive into [Viewing the Analytics Dashboard](./viewing-the-analytics-dashboard.md) to see the different interactions that get tracked.
